# ðŸ“¡ å°æŒ‡æœŸ Discord æ©Ÿå™¨äººå³æ™‚é è­¦ç³»çµ±

## ðŸŽ¯ å°ˆæ¡ˆç›®æ¨™

æ¯ **1 åˆ†é˜å³æ™‚ç›£æŽ§å°æŒ‡æœŸï¼ˆTXFï¼‰å¤§å°** åƒ¹æ ¼èµ°å‹¢ï¼Œåµæ¸¬ï¼š
- âœ… **å¤§æ¼²ã€å¤§è·Œ**ï¼ˆå¦‚ Â±1.5% or Â±200 é»žï¼‰
- âœ… **æ€¥æ¼²ã€æ€¥è·Œ**ï¼ˆå¦‚ 3 åˆ†é˜å…§è·³å‹•è¶…éŽ 100 é»žï¼‰
- âœ… **æŠ€è¡“æŒ‡æ¨™å…±æŒ¯**ï¼šRSIã€MACD è¶¨å‹¢å‡ºç¾å¼·çƒˆè®ŠåŒ–
- âœ… **æˆäº¤é‡ç•°å¸¸**ï¼šæˆäº¤é‡çªç„¶æ”¾å¤§

ä¸¦é€éŽ **Discord æ©Ÿå™¨äººå³æ™‚æŽ¨æ’­è­¦ç¤ºè¨Šæ¯**ã€‚

## ðŸ—ï¸ ç³»çµ±æž¶æ§‹

```
ç„¡èŠ/
â”œâ”€â”€ main.py                  # ä¸»ç¨‹åºï¼Œå®šæ™‚å‘¼å«æ¨¡çµ„ä¸¦è™•ç†é€šçŸ¥
â”œâ”€â”€ data_source/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ mc_file_reader.py    # MultiCharts åŒ¯å‡ºè³‡æ–™ç›£æŽ§
â”‚   â””â”€â”€ ib_api_reader.py     # IB æŽ¥å£æ“·å–è¡Œæƒ…ï¼ˆå‚™ç”¨ï¼‰
â”œâ”€â”€ signal_engine/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ rules.py             # è¨Šè™Ÿåˆ¤æ–·é‚è¼¯
â”‚   â””â”€â”€ config.yaml          # æ¢ä»¶åƒæ•¸è¨­å®š
â”œâ”€â”€ notifier/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ discord_bot.py       # Discord webhook å‚³é€
â”œâ”€â”€ logs/                    # æ—¥èªŒæª”æ¡ˆç›®éŒ„
â”œâ”€â”€ requirements.txt         # ä¾è³´å¥—ä»¶æ¸…å–®
â””â”€â”€ README.md               # å°ˆæ¡ˆèªªæ˜Ž
```

## ðŸš€ å¿«é€Ÿé–‹å§‹

### 1. å®‰è£ä¾è³´å¥—ä»¶

```bash
pip install -r requirements.txt
```

### 2. è¨­å®š Discord Webhook

åœ¨ `notifier/discord_bot.py` ä¸­è¨­å®šä½ çš„ Discord Webhook URLï¼š

```python
# æ–¹æ³• 1ï¼šä½¿ç”¨ Webhookï¼ˆæŽ¨è–¦ï¼‰
discord_notifier = DiscordNotifier(webhook_url="YOUR_WEBHOOK_URL")

# æ–¹æ³• 2ï¼šä½¿ç”¨ Bot Token
discord_notifier = DiscordNotifier(
    bot_token="YOUR_BOT_TOKEN", 
    channel_id="YOUR_CHANNEL_ID"
)
```

### 3. è¨­å®šè³‡æ–™ä¾†æº

ç¢ºä¿ä½ çš„å°æŒ‡æœŸè³‡æ–™æª”æ¡ˆè·¯å¾‘æ­£ç¢ºï¼š

```python
# åœ¨ data_source/mc_file_reader.py ä¸­
data_reader = MultiChartsReader(data_file_path="TXF1_Minute_2020-01-01_2025-06-16.txt")
```

### 4. èª¿æ•´è¨Šè™Ÿåƒæ•¸

åœ¨ `signal_engine/config.yaml` ä¸­èª¿æ•´å„ç¨®é–¾å€¼ï¼š

```yaml
price_change:
  large_move_threshold: 200      # å¤§æ¼²å¤§è·Œé–¾å€¼ï¼ˆé»žï¼‰
  large_move_pct_threshold: 1.5  # å¤§æ¼²å¤§è·Œç™¾åˆ†æ¯”é–¾å€¼
  rapid_move_threshold: 100      # æ€¥æ¼²æ€¥è·Œé–¾å€¼ï¼ˆ3åˆ†é˜å…§ï¼‰

technical_indicators:
  rsi_overbought: 80             # RSI è¶…è²·é–¾å€¼
  rsi_oversold: 20               # RSI è¶…è³£é–¾å€¼
```

### 5. é‹è¡Œç³»çµ±

```bash
python main.py
```

## ðŸ“Š è¨Šè™Ÿé¡žåž‹

### 1. å¤§æ¼²å¤§è·Œè¨Šè™Ÿ
- **è§¸ç™¼æ¢ä»¶**ï¼šåƒ¹æ ¼è®ŠåŒ–è¶…éŽ Â±200 é»žæˆ– Â±1.5%
- **è¨Šæ¯ç¯„ä¾‹**ï¼š`ðŸš€ Dude Wake Upï¼å°æŒ‡æœŸå¤§æ¼²ï¼ï¼ï¼+218 é»ž (1.2%)`

### 2. æ€¥æ¼²æ€¥è·Œè¨Šè™Ÿ
- **è§¸ç™¼æ¢ä»¶**ï¼š3 åˆ†é˜å…§åƒ¹æ ¼è®ŠåŒ–è¶…éŽ Â±100 é»ž
- **è¨Šæ¯ç¯„ä¾‹**ï¼š`âš¡ å°æŒ‡æœŸæ€¥æ¼²ï¼3åˆ†é˜å…§+150 é»ž`

### 3. æŠ€è¡“æŒ‡æ¨™è¨Šè™Ÿ
- **RSI è¶…è²·/è¶…è³£**ï¼šRSI > 80 æˆ– < 20
- **MACD é‡‘å‰/æ­»å‰**ï¼šMACD ç·šèˆ‡ä¿¡è™Ÿç·šäº¤å‰
- **è¨Šæ¯ç¯„ä¾‹**ï¼š`ðŸ“ˆ RSIè¶…è²·è­¦å‘Šï¼RSI=86.5 (é–¾å€¼:80)`

### 4. æˆäº¤é‡ç•°å¸¸è¨Šè™Ÿ
- **è§¸ç™¼æ¢ä»¶**ï¼šæˆäº¤é‡è¶…éŽå¹³å‡å€¼çš„ 2 å€
- **è¨Šæ¯ç¯„ä¾‹**ï¼š`ðŸ“Š æˆäº¤é‡ç•°å¸¸æ”¾å¤§ï¼2.5å€æ–¼å¹³å‡`

## ðŸ”§ é…ç½®èªªæ˜Ž

### Discord è¨­å®š

#### æ–¹æ³• 1ï¼šWebhookï¼ˆæŽ¨è–¦ï¼‰
1. åœ¨ Discord é »é“ä¸­å³éµ â†’ ç·¨è¼¯é »é“ â†’ æ•´åˆ â†’ Webhook
2. å»ºç«‹æ–°çš„ Webhook ä¸¦è¤‡è£½ URL
3. åœ¨ç¨‹å¼ç¢¼ä¸­è¨­å®š `webhook_url`

#### æ–¹æ³• 2ï¼šBot Token
1. åˆ° [Discord Developer Portal](https://discord.com/developers/applications) å»ºç«‹æ‡‰ç”¨ç¨‹å¼
2. å»ºç«‹ Bot ä¸¦è¤‡è£½ Token
3. é‚€è«‹ Bot åˆ°ä½ çš„ä¼ºæœå™¨
4. åœ¨ç¨‹å¼ç¢¼ä¸­è¨­å®š `bot_token` å’Œ `channel_id`

### è³‡æ–™ä¾†æºè¨­å®š

#### MultiCharts æª”æ¡ˆç›£æŽ§
- è¨­å®š MultiCharts æ¯åˆ†é˜åŒ¯å‡ºè³‡æ–™åˆ°æŒ‡å®šæª”æ¡ˆ
- ç³»çµ±æœƒè‡ªå‹•ç›£æŽ§æª”æ¡ˆè®ŠåŒ–ä¸¦è®€å–æœ€æ–°è³‡æ–™

#### IB API é€£æŽ¥ï¼ˆå¯é¸ï¼‰
- å®‰è£ `ib_insync` å¥—ä»¶ï¼š`pip install ib_insync`
- ç¢ºä¿ IB Gateway æˆ– TWS æ­£åœ¨é‹è¡Œ
- åœ¨ `ib_api_reader.py` ä¸­å–æ¶ˆè¨»è§£ç›¸é—œç¨‹å¼ç¢¼

## ðŸ“ æ—¥èªŒè¨˜éŒ„

ç³»çµ±æœƒè‡ªå‹•è¨˜éŒ„æ‰€æœ‰æ´»å‹•åˆ° `logs/signal_log.txt`ï¼š

```
2024-01-15 14:30:15 - INFO - Starting Trading Alert System...
2024-01-15 14:30:16 - INFO - Reading updated data file: TXF1_Minute_2020-01-01_2025-06-16.txt
2024-01-15 14:30:17 - INFO - Discord webhook message sent successfully
```

## ðŸ”® æœªä¾†æ“´å……åŠŸèƒ½

- â›“ï¸ çµåˆ Flowise / LangChainï¼Œè‡ªå‹•è§£è®€æ–°èžèˆ‡æŠ€è¡“é¢è¨Šè™Ÿ
- ðŸ“ˆ ç”¢ç”ŸæŠ€è¡“åœ– + åƒ¹æ ¼åœ–ï¼Œä¸Šå‚³ Discord
- ðŸ§  å»ºç«‹äº¤æ˜“ç­–ç•¥å‹çŽ‡çµ±è¨ˆç³»çµ±
- ðŸª™ å¤šå•†å“æ”¯æ´ï¼ˆåŠ æ¬ŠæŒ‡æ•¸ã€ETFã€åŒ¯çŽ‡ã€åŠ å¯†è²¨å¹£ç­‰ï¼‰
- ðŸ¤– æ›´æ™ºèƒ½çš„è¨Šè™ŸéŽæ¿¾å’Œå„ªå…ˆç´šæŽ’åº
- ðŸ“± æ‰‹æ©Ÿ App æŽ¨é€é€šçŸ¥

## ðŸ› ï¸ æ•…éšœæŽ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **Discord è¨Šæ¯ç™¼é€å¤±æ•—**
   - æª¢æŸ¥ Webhook URL æ˜¯å¦æ­£ç¢º
   - ç¢ºèª Bot æœ‰ç™¼é€è¨Šæ¯çš„æ¬Šé™

2. **è³‡æ–™æª”æ¡ˆè®€å–éŒ¯èª¤**
   - ç¢ºèªæª”æ¡ˆè·¯å¾‘æ­£ç¢º
   - æª¢æŸ¥æª”æ¡ˆæ ¼å¼æ˜¯å¦ç¬¦åˆé æœŸ

3. **è¨Šè™Ÿè§¸ç™¼éŽæ–¼é »ç¹**
   - èª¿æ•´ `config.yaml` ä¸­çš„é–¾å€¼
   - æª¢æŸ¥å†·å»æ™‚é–“è¨­å®š

### é™¤éŒ¯æ¨¡å¼

åœ¨ `main.py` ä¸­å•Ÿç”¨è©³ç´°æ—¥èªŒï¼š

```python
logging.basicConfig(level=logging.DEBUG)
```

## ðŸ“„ æŽˆæ¬Š

æœ¬å°ˆæ¡ˆåƒ…ä¾›å­¸ç¿’å’Œç ”ç©¶ä½¿ç”¨ï¼Œè«‹å‹¿ç”¨æ–¼å¯¦éš›äº¤æ˜“æ±ºç­–ã€‚ 

## ä½¿ç”¨æ–¹å¼

1. **é‡æ–°å•Ÿå‹• Flask æŽ§åˆ¶é é¢**  
   ï¼ˆå¦‚æžœå·²ç¶“åœ¨åŸ·è¡Œï¼Œè«‹å…ˆ Ctrl+C åœæ­¢ï¼Œå†é‡æ–°åŸ·è¡Œï¼‰
   ```bash
   python manual_sender.py
   ```

2. **æ‰“é–‹ç€è¦½å™¨**ï¼Œé€²å…¥  
   ```
   http://localhost:5000
   ```

3. **é»žé¸ã€Œåƒæ•¸è¨­å®šã€åˆ†é **  
   - ä½ æœƒçœ‹åˆ° `config.yaml` çš„å…§å®¹
   - å¯ä»¥ç›´æŽ¥ç·¨è¼¯åƒæ•¸ï¼ˆå¦‚ `large_move_threshold`ï¼‰
   - æŒ‰ä¸‹ã€Œå„²å­˜åƒæ•¸ã€å³å¯

4. **åƒæ•¸å„²å­˜å¾Œï¼Œè«‹é‡æ–°å•Ÿå‹•ä¸»ç¨‹å¼**  
   è®“æ–°åƒæ•¸ç”Ÿæ•ˆï¼

---

æœ‰ä»»ä½•å•é¡Œæˆ–æƒ³è¦æ›´é€²éšŽçš„è¨­å®šé é¢ï¼Œéš¨æ™‚å‘Šè¨´æˆ‘ï¼ 